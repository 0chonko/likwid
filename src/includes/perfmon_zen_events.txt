# =======================================================================================
#
#      Filename:  perfmon_zen_events.txt
#
#      Description:  Event list for AMD Zen
#
#      Version:   <VERSION>
#      Released:  <DATE>
#
#      Author:   Thomas Roehl (tr), thomas.roehl@googlemail.com
#      Project:  likwid
#
#      Copyright (C) 2017 RRZE, University Erlangen-Nuremberg
#
#      This program is free software: you can redistribute it and/or modify it under
#      the terms of the GNU General Public License as published by the Free Software
#      Foundation, either version 3 of the License, or (at your option) any later
#      version.
#
#      This program is distributed in the hope that it will be useful, but WITHOUT ANY
#      WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
#      PARTICULAR PURPOSE.  See the GNU General Public License for more details.
#
#      You should have received a copy of the GNU General Public License along with
#      this program.  If not, see <http://www.gnu.org/licenses/>.
#
# =======================================================================================


EVENT_FPU_PIPE_ASSIGNMENT                         0x00    PMC
UMASK_FPU_PIPE_ASSIGNMENT_PIPE_0                  0x01
UMASK_FPU_PIPE_ASSIGNMENT_PIPE_1                  0x02

EVENT_FP_SCHEDULER_EMPTY                          0x01    PMC
UMASK_FP_SCHEDULER_EMPTY                          0x00

EVENT_DISPATCHED_FAST_FPU                         0x02     PMC
UMASK_DISPATCHED_FAST_FPU                         0x00

EVENT_RETIRED_FLOPS                     0x03    PMC
UMASK_RETIRED_FLOPS_DOUBLE_DIV          0x40
UMASK_RETIRED_FLOPS_DOUBLE_MUL          0x20
UMASK_RETIRED_FLOPS_DOUBLE_ADD          0x10
UMASK_RETIRED_FLOPS_DOUBLE_ALL          0x70
UMASK_RETIRED_FLOPS_SINGLE_DIV          0x04
UMASK_RETIRED_FLOPS_SINGLE_MUL          0x02
UMASK_RETIRED_FLOPS_SINGLE_ADD          0x01
UMASK_RETIRED_FLOPS_SINGLE_ALL          0x07

EVENT_RETIRED_SERIALIZING_OPS                       0x05    PMC
UMASK_RETIRED_SERIALIZING_OPS_SSE_BOTTOM            0x00
UMASK_RETIRED_SERIALIZING_OPS_SSE_CONTROL           0x01
UMASK_RETIRED_SERIALIZING_OPS_X87_BOTTOM            0x02
UMASK_RETIRED_SERIALIZING_OPS_X87_CONTROL           0x04

EVENT_RETIRED_X87_FLOPS                             0x11    PMC
UMASK_RETIRED_X87_FLOPS_ADD                         0x00
UMASK_RETIRED_X87_FLOPS_MUL                         0x01
UMASK_RETIRED_X87_FLOPS_DIV                         0x02

EVENT_SEGMENT_REGISTER_LOADS            0x20    PMC
UMASK_SEGMENT_REGISTER_LOADS_ES            0x00
UMASK_SEGMENT_REGISTER_LOADS_CS            0x01
UMASK_SEGMENT_REGISTER_LOADS_SS            0x02
UMASK_SEGMENT_REGISTER_LOADS_DS            0x04
UMASK_SEGMENT_REGISTER_LOADS_FS            0x10
UMASK_SEGMENT_REGISTER_LOADS_GS            0x20
UMASK_SEGMENT_REGISTER_LOADS_HS            0x40

EVENT_PIPELINE_RESTART_SELFMOD_CODE            0x21    PMC
UMASK_PIPELINE_RESTART_SELFMOD_CODE            0x00

EVENT_PIPELINE_RESTART_PROBE_HIT            0x22    PMC
UMASK_PIPELINE_RESTART_PROBE_HIT_INV           0x00
UMASK_PIPELINE_RESTART_PROBE_HIT_FILLS         0x01

EVENT_LOCKED_OPERATION                         0x24    PMC
UMASK_LOCKED_OPERATION_CYCLES_TO_UNLCOK        0x04
UMASK_LOCKED_OPERATION_CYCLES_TO_BUS_LOCK      0x02
UMASK_LOCKED_OPERATION_LOCKED_INSTR                 0x01

EVENT_CLFLUSH_RETIRED            0x26    PMC
UMASK_CLFLUSH_RETIRED            0x00

EVENT_CPUID_RETIRED            0x27    PMC
UMASK_CPUID_RETIRED            0x00

EVENT_LS_DISPATCH            0x29    PMC
UMASK_LS_DISPATCH_LOADS            0x01
UMASK_LS_DISPATCH_STORES            0x02
UMASK_LS_DISPATCH_LOAD_OP_STORES    0x04

EVENT_CANCELED_STORE_FORWARD            0x2A    PMC
UMASK_CANCELED_STORE_FORWARD_ADDR_MISMATCH           0x01
UMASK_CANCELED_STORE_FORWARD_SMALL_STORES            0x02
UMASK_CANCELED_STORE_FORWARD_MISALIGNED_STORES       0x04

EVENT_DATA_CACHE_ACCESSES            0x40    PMC
UMASK_DATA_CACHE_ACCESSES            0x00

EVENT_DATA_CACHE_MISSES          0x41   PMC
UMASK_DATA_CACHE_MISSES          0x00

EVENT_DATA_CACHE_REFILLS            0x42    PMC
UMASK_DATA_CACHE_REFILLS_NONCACHED      0x01
UMASK_DATA_CACHE_REFILLS_SHARED         0x02
UMASK_DATA_CACHE_REFILLS_EXCLUSIVE      0x04
UMASK_DATA_CACHE_REFILLS_OWNED          0x08
UMASK_DATA_CACHE_REFILLS_MODIFIED       0x10
UMASK_DATA_CACHE_REFILLS_ALL            0x1E

EVENT_DATA_CACHE_REFILLS_NB            0x43    PMC
UMASK_DATA_CACHE_REFILLS_NB_NONCACHED      0x01
UMASK_DATA_CACHE_REFILLS_NB_SHARED         0x02
UMASK_DATA_CACHE_REFILLS_NB_EXCLUSIVE      0x04
UMASK_DATA_CACHE_REFILLS_NB_OWNED          0x08
UMASK_DATA_CACHE_REFILLS_NB_MODIFIED       0x10
UMASK_DATA_CACHE_REFILLS_NB_ALL            0x1E

EVENT_L2_DTLB_HIT                0x45   PMC
UMASK_L2_DTLB_HIT                0x00
UMASK_L2_DTLB_HIT_ALL            0x01

EVENT_DTLB_MISS                  0x46    PMC
UMASK_DTLB_MISS_STORE_L1         0x01
UMASK_DTLB_MISS_LOAD_L1          0x02
UMASK_DTLB_MISS_STORE_L2         0x04
UMASK_DTLB_MISS_LOAD_L2          0x08
UMASK_DTLB_MISS_ALL              0x0F

EVENT_MISALIGNED_ACCESS       0x47    PMC
UMASK_MISALIGNED_ACCESS_16b       0x01
UMASK_MISALIGNED_ACCESS_4Kb       0x02

EVENT_PREFETCH_INSTR_DISPATCHED       0x4B    PMC
UMASK_PREFETCH_INSTR_DISPATCHED_LOAD      0x01
UMASK_PREFETCH_INSTR_DISPATCHED_STORE     0x02
UMASK_PREFETCH_INSTR_DISPATCHED_NTA       0x04

EVENT_DCACHE_LOCK_MISS           0x4C   PMC
UMASK_DCACHE_LOCK_MISS           0x02

EVENT_DTLB_L1_HIT                 0x4D   PMC
UMASK_DTLB_L1_HIT_4KB             0x01
UMASK_DTLB_L1_HIT_2MB             0x02
UMASK_DTLB_L1_HIT_ANY             0x03

EVENT_INEFFECTIVE_PREFETCHES        0x52    PMC
UMASK_INEFFECTIVE_PREFETCHES_DATA_CACHE     0x01
UMASK_INEFFECTIVE_PREFETCHES_PENDING_FILL   0x02
UMASK_INEFFECTIVE_PREFETCHES_NO_MAB         0x04
UMASK_INEFFECTIVE_PREFETCHES_L2_HIT         0x08

EVENT_GLOBAL_TLB_FLUSH           0x54   PMC
UMASK_GLOBAL_TLB_FLUSH           0x00

EVENT_GLOBAL_READ_BLOCK_OPS           0x62   PMC
UMASK_GLOBAL_READ_BLOCK_OPS_READ      0x01   
UMASK_GLOBAL_READ_BLOCK_OPS_RDBLK_MOD      0x02   
UMASK_GLOBAL_READ_BLOCK_OPS_RDBLK_SHARED      0x04   
UMASK_GLOBAL_READ_BLOCK_OPS_RDBLKSPEC      0x08   
UMASK_GLOBAL_READ_BLOCK_OPS_RDBLKSPEC_MOD      0x10   
UMASK_GLOBAL_READ_BLOCK_OPS_SPEC_SHARED      0x20   

EVENT_MEMORY_REQUESTS        0x65     PMC
UMASK_MEMORY_REQUESTS_UC        0x01
UMASK_MEMORY_REQUESTS_WC        0x02
UMASK_MEMORY_REQUESTS_SS        0x80

EVENT_DATA_PREFETCHER        0x67     PMC
UMASK_DATA_PREFETCHER_ATTEMPTS        0x02
UMASK_DATA_PREFETCHER_HIT_MAB         0x08

#FIXME - Do we need to update mask details
EVENT_MAB_REQ        0x68     PMC
UMASK_MAB_REQ        0x00 

EVENT_MAB_WAIT        0x69     PMC
UMASK_MAB_WAIT        0x00 

EVENT_RESPONSE_ON_CACHE_REFILLS        0x6C     PMC
UMASK_RESPONSE_ON_CACHE_REFILLS_EXCLUSIVE           0x01
UMASK_RESPONSE_ON_CACHE_REFILLS_MODIFIED            0x02
UMASK_RESPONSE_ON_CACHE_REFILLS_SHARED              0x04
UMASK_RESPONSE_ON_CACHE_REFILLS_OWNED               0x08
UMASK_RESPONSE_ON_CACHE_REFILLS_DATA_ERROR          0x10
UMASK_RESPONSE_ON_CACHE_REFILLS_CHANGE_TO_DIRTY     0x20
UMASK_RESPONSE_ON_CACHE_REFILLS_UNCACHEABLE         0x40

EVENT_DATA_WRITTEN                      0x6D     PMC
UMASK_DATA_WRITTEN_LINE_EVICTION        0x01
UMASK_DATA_WRITTEN_INSN_ATTR__EVICTION        0x02
UMASK_DATA_WRITTEN_BYTE_ENABLE_UNCACHEABLE_IO_STORE 0x04
UMASK_DATA_WRITTEN_UNCACHEABLE_IO_STORE 0x08
UMASK_DATA_WRITTEN_BYTE_ENABLE_WRITE_COMBINE_FLUSH 0x10
UMASK_DATA_WRITTEN_WRITE_COMBINE_FLUSH 0x20

EVENT_CACHE_CROSS_INVALIDATES        0x75     PMC
UMASK_CACHE_CROSS_INVALIDATES_DC_IC        0x01
UMASK_CACHE_CROSS_INVALIDATES_DC_DC        0x02
UMASK_CACHE_CROSS_INVALIDATES_IC_IC        0x04
UMASK_CACHE_CROSS_INVALIDATES_IC_DC        0x08
UMASK_CACHE_CROSS_INVALIDATES_IC_HITS_DC        0x10
UMASK_CACHE_CROSS_INVALIDATES_DC_PROBE_REJ_EARLY        0x20
UMASK_CACHE_CROSS_INVALIDATES_DC_PROBE_REJ_LATE        0x40

EVENT_CPU_CLOCKS_UNHALTED        0x76     PMC
UMASK_CPU_CLOCKS_UNHALTED        0x00

EVENT_PDC_MISS                  0x162   PMC
UMASK_PDC_MISS_HOST_PDE                 0x01
UMASK_PDC_MISS_HOST_PDPE                0x02
UMASK_PDC_MISS_HOST_PML4E               0x04
UMASK_PDC_MISS_GUEST_PDE                0x10
UMASK_PDC_MISS_GUEST_PDPE               0x20
UMASK_PDC_MISS_GUEST_PML4E              0x40

EVENT_INSTRUCTION_CACHE_FETCHES        0x080     PMC
UMASK_INSTRUCTION_CACHE_FETCHES         0x00

EVENT_INSTRUCTION_CACHE_MISSES        0x081     PMC
UMASK_INSTRUCTION_CACHE_MISSES         0x00

EVENT_INSTRUCTION_CACHE_L2_REFILLS        0x082     PMC
UMASK_INSTRUCTION_CACHE_L2_REFILLS         0x00

EVENT_INSTRUCTION_CACHE_SYSTEM_REFILLS        0x083     PMC
UMASK_INSTRUCTION_CACHE_SYSTEM_REFILLS         0x00

EVENT_ITLB_L1_MISS_L2_HIT              0x084     PMC
UMASK_ITLB_L1_MISS_L2_HIT              0x00

EVENT_ITLB_L1_MISS_L2_MISS             0x085     PMC
UMASK_ITLB_L1_MISS_L2_MISS_4KB         0x01
UMASK_ITLB_L1_MISS_L2_MISS_2MB         0x02
UMASK_ITLB_L1_MISS_L2_MISS_ANY         0x03

EVENT_INSTRUCTION_FETCH_STALL        0x087     PMC
UMASK_INSTRUCTION_FETCH_STALL         0x00

EVENT_RETURN_STACK_HITS        0x088     PMC
UMASK_RETURN_STACK_HITS         0x00

EVENT_RETURN_STACK_OVERFLOWS        0x089     PMC
UMASK_RETURN_STACK_OVERFLOWS         0x00

EVENT_INSTRUCTION_CACHE_VICTIMS        0x08B     PMC
UMASK_INSTRUCTION_CACHE_VICTIMS         0x00

EVENT_ICACHE_LINES_INVALIDATED    0x8C   PMC
UMASK_ICACHE_LINES_INVALIDATED_LS_PROBE    0x01
UMASK_ICACHE_LINES_INVALIDATED_BU_PROBE      0x02

EVENT_ITLB_RELOADS        0x099     PMC
UMASK_ITLB_RELOADS         0x00

EVENT_ITLB_RELOADS_ABORTED        0x09A     PMC
UMASK_ITLB_RELOADS_ABORTED         0x00

EVENT_RETIRED_INDIR_BRANCH    0x19A   PMC
UMASK_RETIRED_INDIR_BRANCH    0x01
UMASK_RETIRED_INDIR_MISPRED_BRANCH    0x02

EVENT_RETIRED_INSTRUCTIONS        0x0C0     PMC
UMASK_RETIRED_INSTRUCTIONS         0x00

EVENT_RETIRED_UOPS        0x0C1     PMC
UMASK_RETIRED_UOPS         0x00

EVENT_RETIRED_BRANCH_INSTR        0x0C2     PMC
UMASK_RETIRED_BRANCH_INSTR         0x00

EVENT_RETIRED_MISPREDICTED_BRANCH_INSTR        0x0C3     PMC
UMASK_RETIRED_MISPREDICTED_BRANCH_INSTR         0x00

EVENT_RETIRED_TAKEN_BRANCH_INSTR        0x0C4     PMC
UMASK_RETIRED_TAKEN_BRANCH_INSTR         0x00

EVENT_RETIRED_TAKEN_MISPREDICTED_BRANCH_INSTR        0x0C5     PMC
UMASK_RETIRED_TAKEN_MISPREDICTED_BRANCH_INSTR         0x00

EVENT_RETIRED_FAR_CONTROL_TRANSFERS        0x0C6     PMC
UMASK_RETIRED_FAR_CONTROL_TRANSFERS         0x00

EVENT_RETIRED_BRANCH_RESYNCS        0x0C7     PMC
UMASK_RETIRED_BRANCH_RESYNCS         0x00

EVENT_RETIRED_NEAR_RETURNS        0x0C8     PMC
UMASK_RETIRED_NEAR_RETURNS         0x00

EVENT_RETIRED_NEAR_RETURNS_MISPRED        0x0C9     PMC
UMASK_RETIRED_NEAR_RETURNS_MISPRED         0x00

EVENT_RETIRED_INDIRECT_BRANCHES_MISPRED    0x0CA     PMC
UMASK_RETIRED_INDIRECT_BRANCHES_MISPRED         0x00

EVENT_RETIRED_FP_INSTRUCTIONS    0x0CB     PMC
UMASK_RETIRED_FP_INSTRUCTIONS_X87_MMX         0x01
UMASK_RETIRED_FP_INSTRUCTIONS_SSE         0x02
UMASK_RETIRED_FP_INSTRUCTIONS_ALL         0x03

EVENT_INTERRUPTS_MASKED_CYCLES    0x0CD     PMC
UMASK_INTERRUPTS_MASKED_CYCLES         0x00

EVENT_INTERRUPTS_MASKED_CYCLES_INTERRUPTS_PENDING    0x0CE     PMC
UMASK_INTERRUPTS_MASKED_CYCLES_INTERRUPTS_         0x00

EVENT_INTERRUPTS_TAKEN    0x0CF     PMC
UMASK_INTERRUPTS_TAKEN         0x00

EVENT_FPU_EXCEPTION    0x0DB     PMC
UMASK_FPU_EXCEPTION_X87_MICROFAULTS     0x01
UMASK_FPU_EXCEPTION_SSE_RETYPE__MICROFAULTS      0x02
UMASK_FPU_EXCEPTION_SSE_RECLASS_MICROFAULTS      0x04
UMASK_FPU_EXCEPTION_SSE_X87_MICROTRAPS           0x08
UMASK_FPU_EXCEPTION_ALL                          0x0F

EVENT_IBS_OPS                      0x1CF         PMC
UMASK_IBS_OPS                      0x0

EVENT_IBS_RETIRED_OPS              0x1D0         PMC
UMASK_IBS_RETIRED_OPS              0x0

