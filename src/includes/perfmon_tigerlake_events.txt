# =======================================================================================
#
#      Filename:  perfmon_tigerlake_events.txt
#
#      Description:  Event list for Intel Tigerlake
#
#      Version:   <VERSION>
#      Released:  <DATE>
#
#      Author:   Thomas Gruber (tr), thomas.roehl@googlemail.com
#      Project:  likwid
#
#      Copyright (C) 2015 RRZE, University Erlangen-Nuremberg
#
#      This program is free software: you can redistribute it and/or modify it under
#      the terms of the GNU General Public License as published by the Free Software
#      Foundation, either version 3 of the License, or (at your option) any later
#      version.
#
#      This program is distributed in the hope that it will be useful, but WITHOUT ANY
#      WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
#      PARTICULAR PURPOSE.  See the GNU General Public License for more details.
#
#      You should have received a copy of the GNU General Public License along with
#      this program.  If not, see <http://www.gnu.org/licenses/>.
#
# =======================================================================================

EVENT_INSTR_RETIRED              0x00   FIXC0
UMASK_INSTR_RETIRED_ANY          0x00

EVENT_CPU_CLK_UNHALTED           0x00   FIXC1
UMASK_CPU_CLK_UNHALTED_CORE      0x00

EVENT_CPU_CLK_UNHALTED           0x00   FIXC2
UMASK_CPU_CLK_UNHALTED_REF       0x00

EVENT_TOPDOWN_SLOTS              0x00   FIXC3
UMASK_TOPDOWN_SLOTS              0x00

EVENT_LD_BLOCKS                         0x03 PMC
UMASK_LD_BLOCKS_STORE_FORWARD           0x02
UMASK_LD_BLOCKS_NO_SR                   0x08

EVENT_LD_BLOCKS_PARTIAL_ADDRESS_ALIAS   0x07 PMC
UMASK_LD_BLOCKS_PARTIAL_ADDRESS_ALIAS   0x01

EVENT_ITLB_MISSES                       0x85 PMC
UMASK_ITLB_MISSES_CAUSES_A_WALK         0x01
UMASK_ITLB_MISSES_WALK_PENDING          0x10
UMASK_ITLB_MISSES_STLB_HIT              0x20
UMASK_ITLB_MISSES_WALK_COMPLETED        0x0E
UMASK_ITLB_MISSES_WALK_COMPLETED_4K     0x02
UMASK_ITLB_MISSES_WALK_COMPLETED_2M_4M  0x04
UMASK_ITLB_MISSES_WALK_COMPLETED_1G     0x08
DEFAULT_OPTIONS_ITLB_MISSES_WALK_ACTIVE EVENT_OPTION_THRESHOLD=0x1
UMASK_ITLB_MISSES_WALK_ACTIVE           0x10


EVENT_DTLB_LOAD_MISSES                      0x08 PMC
UMASK_DTLB_STORE_MISSES_WALK_PENDING        0x10
UMASK_DTLB_LOAD_MISSES_WALK_COMPLETED       0x0E
UMASK_DTLB_LOAD_MISSES_WALK_COMPLETED_4K    0x02
UMASK_DTLB_LOAD_MISSES_WALK_COMPLETED_2M_4M 0x04
# Not documented but it would fit to DTLB_LOAD_MISSES_WALK_COMPLETED. 1G event is defined for SKL
# also see DTLB_STORE_MISSES.
#UMASK_DTLB_LOAD_MISSES_WALK_COMPLETED_1G   0x08
DEFAULT_OPTIONS_DTLB_STORE_MISSES_WALK_ACTIVE EVENT_OPTION_THRESHOLD=0x1
UMASK_DTLB_STORE_MISSES_WALK_ACTIVE         0x10
UMASK_DTLB_LOAD_MISSES_STLB_HIT             0x20


EVENT_DTLB_STORE_MISSES                      0x49 PMC
UMASK_DTLB_STORE_MISSES_CAUSES_A_WALK        0x01
UMASK_DTLB_STORE_MISSES_WALK_PENDING         0x10
UMASK_DTLB_STORE_MISSES_STLB_HIT             0x20
UMASK_DTLB_STORE_MISSES_WALK_COMPLETED       0x0E
UMASK_DTLB_STORE_MISSES_WALK_COMPLETED_4K    0x02
UMASK_DTLB_STORE_MISSES_WALK_COMPLETED_2M_4M 0x04
UMASK_DTLB_STORE_MISSES_WALK_COMPLETED_1G    0x08
DEFAULT_OPTIONS_DTLB_STORE_MISSES_WALK_ACTIVE EVENT_OPTION_THRESHOLD=0x1
UMASK_DTLB_STORE_MISSES_WALK_ACTIVE          0x10

EVENT_INT_MISC                          0x0D PMC
# Really cmask=0x1? Not required for previous architectures
DEFAULT_OPTIONS_INT_MISC_RECOVERY_CYCLES EVENT_OPTION_THRESHOLD=0x1
UMASK_INT_MISC_RECOVERY_CYCLES          0x01
DEFAULT_OPTIONS_INT_MISC_RECOVERY_COUNT EVENT_OPTION_EDGE=1,EVENT_OPTION_THRESHOLD=0x1
UMASK_INT_MISC_RECOVERY_COUNT           0x01
UMASK_INT_MISC_UOP_DROPPING             0x10
UMASK_INT_MISC_CLEAR_RESTEER_CYCLES     0x80
DEFAULT_OPTIONS_INT_MISC_CLEAR_RESTEER_COUNT EVENT_OPTION_EDGE=1
UMASK_INT_MISC_CLEAR_RESTEER_COUNT      0x80

EVENT_UOPS_ISSUED                0x0E  PMC
UMASK_UOPS_ISSUED_ANY            0x01
UMASK_UOPS_ISSUED_VECTOR_WIDTH_MISMATCH 0x02
UMASK_UOPS_ISSUED_SLOW_LEA       0x20
DEFAULT_OPTIONS_UOPS_ISSUED_USED_CYCLES EVENT_OPTION_THRESHOLD=0x1
UMASK_UOPS_ISSUED_USED_CYCLES   0x01
DEFAULT_OPTIONS_UOPS_ISSUED_STALL_CYCLES EVENT_OPTION_THRESHOLD=0x1,EVENT_OPTION_INVERT=1
UMASK_UOPS_ISSUED_STALL_CYCLES   0x01
# Defined by me according to previous architectures. 
DEFAULT_OPTIONS_UOPS_ISSUED_CYCLES_GE_1_UOPS_EXEC EVENT_OPTION_THRESHOLD=0x1
UMASK_UOPS_ISSUED_CYCLES_GE_1_UOPS_EXEC 0x01
DEFAULT_OPTIONS_UOPS_ISSUED_CYCLES_GE_2_UOPS_EXEC EVENT_OPTION_THRESHOLD=0x2
UMASK_UOPS_ISSUED_CYCLES_GE_2_UOPS_EXEC 0x01
DEFAULT_OPTIONS_UOPS_ISSUED_CYCLES_GE_3_UOPS_EXEC EVENT_OPTION_THRESHOLD=0x3
UMASK_UOPS_ISSUED_CYCLES_GE_3_UOPS_EXEC 0x01
DEFAULT_OPTIONS_UOPS_ISSUED_CYCLES_GE_4_UOPS_EXEC EVENT_OPTION_THRESHOLD=0x4
UMASK_UOPS_ISSUED_CYCLES_GE_4_UOPS_EXEC 0x01
DEFAULT_OPTIONS_UOPS_ISSUED_CYCLES_GE_5_UOPS_EXEC EVENT_OPTION_THRESHOLD=0x5
UMASK_UOPS_ISSUED_CYCLES_GE_5_UOPS_EXEC 0x01


EVENT_ARITH_DIVIDER                     0x14 PMC
# Really cmask=0x1? Not required for previous architectures
DEFAULT_OPTIONS_ARITH_DIVIDER_ACTIVE    EVENT_OPTION_THRESHOLD=0x1
UMASK_ARITH_DIVIDER_ACTIVE              0x01
DEFAULT_OPTIONS_ARITH_DIVIDER_COUNT     EVENT_OPTION_EDGE=0x1,EVENT_OPTION_THRESHOLD=0x1
UMASK_ARITH_DIVIDER_COUNT               0x01

EVENT_L2_RQSTS                          0x24 PMC
#UMASK_L2_RQSTS_DEMAND_DATA_RD_MISS      0x21
UMASK_L2_RQSTS_RFO_MISS                 0x22
UMASK_L2_RQSTS_CODE_RD_MISS             0x24
UMASK_L2_RQSTS_SWPF_MISS                0x28
#UMASK_L2_RQSTS_ALL_DEMAND_MISS          0x27
#UMASK_L2_RQSTS_PF_MISS                  0x38
UMASK_L2_RQSTS_MISS                     0x3F
#UMASK_L2_RQSTS_DEMAND_DATA_RD_HIT       0xC1
UMASK_L2_RQSTS_RFO_HIT                  0xC2
UMASK_L2_RQSTS_CODE_RD_HIT              0xC4
UMASK_L2_RQSTS_SWPF_MISS                0xC8
UMASK_L2_RQSTS_PF_HIT                   0xD8
#UMASK_L2_RQSTS_ALL_DEMAND_DATA_RD       0xE1
UMASK_L2_RQSTS_ALL_RFO                  0xE2
UMASK_L2_RQSTS_ALL_CODE_RD              0xE4
#UMASK_L2_RQSTS_ALL_DEMAND_REFERENCES    0xE7
#UMASK_L2_RQSTS_ALL_PF                   0xF8
#UMASK_L2_RQSTS_REFERENCES               0xFF

EVENT_CORE_POWER                    0x28 PMC
UMASK_CORE_POWER_LVL0_TURBO_LICENSE 0x07
UMASK_CORE_POWER_LVL1_TURBO_LICENSE 0x18
UMASK_CORE_POWER_LVL2_TURBO_LICENSE 0x20

EVENT_SW_PREFETCH_ACCESS            0x32 PMC
UMASK_SW_PREFETCH_ACCESS_NTA        0x01
UMASK_SW_PREFETCH_ACCESS_T0         0x02
UMASK_SW_PREFETCH_ACCESS_T1_T2      0x04
UMASK_SW_PREFETCH_ACCESS_PREFETCHW  0x08

EVENT_CPU_CLOCK_UNHALTED                    0x3C   PMC
UMASK_CPU_CLOCK_UNHALTED_THREAD_P           0x00
UMASK_CPU_CLOCK_UNHALTED_REF_XCLK           0x01
UMASK_CPU_CLOCK_UNHALTED_ONE_THREAD_ACTIVE  0x02
UMASK_CPU_CLOCK_UNHALTED_REF_DISTRIBUTED    0x08

EVENT_L1D_PEND_MISS                     0x48 PMC
UMASK_L1D_PEND_MISS_PENDING             0x01
DEFAULT_OPTIONS_L1D_PEND_MISS_PENDING_CYCLES EVENT_OPTION_THRESHOLD=0x1
UMASK_L1D_PEND_MISS_PENDING_CYCLES      0x01
UMASK_L1D_PEND_MISS_FB_FULL             0x02
DEFAULT_OPTIONS_L1D_PEND_MISS_FB_FULL_PERIODS EVENT_OPTION_EDGE=0x1,EVENT_OPTION_THRESHOLD=0x1
UMASK_L1D_PEND_MISS_FB_FULL_PERIODS     0x02
UMASK_L1D_PEND_MISS_L2_STALL            0x04

EVENT_LOAD_HIT_PREFETCH                 0x4C PMC
UMASK_LOAD_HIT_PREFETCH_SWPF            0x01

EVENT_L1D                               0x51 PMC
UMASK_L1D_REPLACEMENT                   0x01
# Not documented for TGL but for SKL
#UMASK_L1D_M_EVICT                       0x04

EVENT_TX_MEM                                                0x54 PMC
UMASK_TX_MEM_ABORT_CONFLICT                                 0x01
UMASK_TX_MEM_ABORT_CAPACITY_READ                            0x80
UMASK_TX_MEM_ABORT_CAPACITY_WRITE                           0x02

EVENT_TX_EXEC                           0x5D PMC
UMASK_TX_EXEC_MISC2                     0x02
UMASK_TX_EXEC_MISC3                     0x04

EVENT_RS_EVENTS_EMPTY                   0x5E PMC
UMASK_RS_EVENTS_EMPTY_CYCLES            0x01
DEFAULT_OPTIONS_RS_EVENTS_EMPTY_END     EVENT_OPTION_THRESHOLD=0x1,EVENT_OPTION_INVERT=0x1,EVENT_OPTION_EDGE=0x1
UMASK_RS_EVENTS_EMPTY_END               0x01

EVENT_OFFCORE_REQUESTS_OUTSTANDING                                          0x60 PMC
UMASK_OFFCORE_REQUESTS_OUTSTANDING_DEMAND_DATA_RD                           0x01
DEFAULT_OPTIONS_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_DATA_RD EVENT_OPTION_THRESHOLD=0x1
UMASK_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_DATA_RD               0x01
DEFAULT_OPTIONS_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_DATA_RD_GE_6 EVENT_OPTION_THRESHOLD=0x6
UMASK_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_DATA_RD_GE_6          0x01
UMASK_OFFCORE_REQUESTS_OUTSTANDING_DEMAND_CODE_RD                           0x02
DEFAULT_OPTIONS_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_CODE_RD EVENT_OPTION_THRESHOLD=0x1
UMASK_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_CODE_RD               0x02
UMASK_OFFCORE_REQUESTS_OUTSTANDING_DEMAND_RFO                               0x04
DEFAULT_OPTIONS_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_RFO EVENT_OPTION_THRESHOLD=0x1
UMASK_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_DEMAND_RFO                   0x04
UMASK_OFFCORE_REQUESTS_OUTSTANDING_ALL_DATA_RD                              0x08
DEFAULT_OPTIONS_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_ALL_DATA_RD EVENT_OPTION_THRESHOLD=0x1
UMASK_OFFCORE_REQUESTS_OUTSTANDING_CYCLES_WITH_ALL_DATA_RD                  0x08

EVENT_LOCK_CYCLES_CACHE_LOCK            0x63 PMC
UMASK_LOCK_CYCLES_CACHE_LOCK_DURATION   0x02
DEFAULT_OPTIONS_LOCK_CYCLES_CACHE_LOCK_COUNT EVENT_OPTION_EDGE=1
UMASK_LOCK_CYCLES_CACHE_LOCK_COUNT      0x02






















